CMAKE_MINIMUM_REQUIRED(VERSION 2.4)
PROJECT(COMPUCELLPLAYER)

INCLUDE_DIRECTORIES(
    ${COMPUCELL3D_SOURCE_DIR}/core
    ${COMPUCELL3D_SOURCE_DIR}/core/CompuCell3D
    ${COMPUCELL3D_SOURCE_DIR}/core/CompuCellPlayer/src
    ${COMPUCELL3D_SOURCE_DIR}/core/CompuCellPlayer/simthread
    ${CMAKE_CURRENT_SOURCE_DIR}/src 
    ${CMAKE_CURRENT_SOURCE_DIR}/simthread
    )

INCLUDE(FindPythonLibs)
INCLUDE(FindOpenGL)

FIND_PACKAGE(Qt4 REQUIRED)
FIND_PACKAGE(VTK REQUIRED)

SET(VTK_LIBRARY_DIRECTORIES ${VTK_LIBRARY_DIRS} CACHE STRING "Paths to vtk libraries")

ADD_DEFINITIONS(${QT_DEFINITIONS})

#MESSAGE("THIS IS VTK_INCLUDE_DIRS ${VTK_INCLUDE_DIRS}")
#MESSAGE("THIS IS VTK_LIBRARY_DIRS ${VTK_LIBRARY_DIRS}")

IF (QT4_FOUND)
    set(QT_USE_OPENGL TRUE)
    include(${QT_USE_FILE})
    INCLUDE_DIRECTORIES(${QT_QTOPENGL_INCLUDE_DIR})
    LINK_DIRECTORIES(${QT_LIB_DIR} ${VTK_LIBRARY_DIRS})
    #adding simthread directory
    ADD_SUBDIRECTORY(QVTKWidget)
    ADD_SUBDIRECTORY(simthread)
    #adding PlayerGUI directory
    ADD_SUBDIRECTORY(src)
    
ELSE(QT4_FOUND)    
    MESSAGE("COULD NOT FIND QT3 INSTALLATION.IGNORING THE REST OF THE PROJECT")
ENDIF(QT4_FOUND)

# Should we build shared libraries
#OPTION(BUILD_SHARED_LIBS "Build shared libraries" ON)

# Always include the top level source for compiles
#SET_DIRECTORY_PROPERTIES(PROPERTIES
#  INCLUDE_DIRECTORIES ${QT_APP_SOURCE_DIR})
    
# Where to install files relative to prefix
#SET(QT_APP_INSTALL_LIB_DIR "/lib")
#SET(QT_APP_INSTALL_INCLUDE_DIR "/include")



