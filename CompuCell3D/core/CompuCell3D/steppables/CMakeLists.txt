Find_Package(OpenMP)

message(" OPEN MP FOUND " $OPENMP_FOUND)

INCLUDE_DIRECTORIES ( 
    ${COMPUCELL3D_SOURCE_DIR}/core
    )

if(${CMAKE_SYSTEM_NAME} STREQUAL Windows)
  SET(STEPPABLE_DEPENDENCIES CompuCellLibShared XMLUtilsShared muParserStatic)
else(${CMAKE_SYSTEM_NAME} STREQUAL Windows)
  SET(STEPPABLE_DEPENDENCIES CompuCellLibShared Potts3DShared BasicUtilsShared Field3DShared muParserShared)
endif(${CMAKE_SYSTEM_NAME} STREQUAL Windows)


MACRO(ADD_COMPUCELL3D_STEPPABLE_HEADERS steppable)
  # old style command
  # INSTALL_FILES(/include/CompuCell3D/CompuCell3D/steppables/${steppable} .h
    # ${ARGN})
    
  file(GLOB header_files "${CMAKE_CURRENT_SOURCE_DIR}/*.h")
  # message(${steppable} "uses the following header files: " ${header_files})
  INSTALL(FILES ${header_files} DESTINATION "${CMAKE_INSTALL_PREFIX}/include/CompuCell3D/CompuCell3D/steppables/${steppable}")
  
    
ENDMACRO(ADD_COMPUCELL3D_STEPPABLE_HEADERS)

# #Recurse into subprojects
# #AutogeneratedModules - DO NOT REMOVE THIS LINE IT IS USED BY TWEDIT TO INSERT NEW PLUGIN DIRECTORY
ADD_SUBDIRECTORY(BiasVectorSteppable)
ADD_SUBDIRECTORY(CleaverMeshDumper)
# # ADD_SUBDIRECTORY(CGALMeshDumper)

ADD_SUBDIRECTORY(PIFInitializer)
ADD_SUBDIRECTORY(PIFDumper)
ADD_SUBDIRECTORY(BlobFieldInitializer)
ADD_SUBDIRECTORY(UniformFieldInitializer)
ADD_SUBDIRECTORY(PDESolvers)
ADD_SUBDIRECTORY(FoamDataOutput)
ADD_SUBDIRECTORY(BoxWatcher)
ADD_SUBDIRECTORY(Dicty)
ADD_SUBDIRECTORY(Mitosis)
ADD_SUBDIRECTORY(ObjInitializer)
ADD_SUBDIRECTORY(RandomInitializers)



# #ADD_SUBDIRECTORY(TemplateSteppable)


